{% extends 'base.html' %}
{% load static %}

{% block titulo %}Dashboard{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/css.css' %}">
{% endblock %}

{% block body %}
    <div class="container">
        <br>
        <div class="row">
            <div class="col-md basic_information">
                <h1>
                    <svg style="color: #69BDCB" class="icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                         viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path>
                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path>
                    </svg>
                    &nbspR$ <span id="total_revenues"></span>
                </h1>
            </div>
            <div class="col-md basic_information">
                <h1>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path>
                        <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"></path>
                    </svg>
                    &nbspR$ <span id="total_expenditure"></span>
                </h1>
            </div>
            <div class="col-md basic_information">
                <h1>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                              d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z"></path>
                    </svg>
                    &nbspR$ <span id="current_balance_html"></span>
                </h1>
            </div>
            <div class="col-md basic_information">
                <h1>
                    <div class="row g-2">
                        <div class="col-md">
                            <select class="form-select" aria-label="Default select example" id="month_select"></select>
                        </div>

                        <div class="col-md">
                            <select class="form-select" aria-label="Default select example" id="year_select"></select>
                        </div>

                        <div class="col-12">
                            <button class="btn btn-light" type="submit">Filtrar</button>
                        </div>
                    </div>
                </h1>
            </div>
        </div>

        <br>

        <div class="row">
            <div class="col-md">
                <br>
                <h3>Maiores Receitas do Mês</h3>
                <canvas id="higher_revenues" width="250" height="200"></canvas>
            </div>
            <div class="col-md">
                <br>
                <h3>Maiores Despesas do Mês</h3>
                <canvas id="higher_expenditures" width="250" height="200"></canvas>
            </div>
        </div>

        <br>

        <div class="row">
            <div class="col-md">
                <br>
                <h3>Gastos por Categoria do Mês</h3>
                <canvas id="monthly_category_summary" width="250" height=50></canvas>
            </div>

        </div>
        <br>
        <div class="row">
            <div class="col-md">
                <br>
                <h3>Gastos por Categoria dos Últimos 12 Meses</h3>
                <canvas id="annual_category_summary" width="250" height="50"></canvas>
            </div>
        </div>

        <br>

        <div class="row">
            <div class="col-md">
                <br>
                <h3>Últimos 12 Meses</h3>
                <canvas id="last_twelve_months" width="500" height="200"></canvas>
            </div>
        </div>

        <br>

        <footer class="container">
            <br>
            <div class="row">
                <div style="color: black;" class="col-md centralizar">
                    CNPJ: 00.000.000/0000-00
                </div>

                <div style="color: black;" class="col-md centralizar">
                    2022 lucas.or.ramon. Todos os direitos reservados.
                </div>

                <div style="color: black;" class="col-md centralizar">
                    lucas.or.ramon@email.com.br
                </div>
            </div>
            <br>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/js.js' %}"></script>

    <script>

        window.onload = function (event) {
            render_five_higher_revenues('{% url "five_higher_revenues_url" %}')
            render_five_higher_expenditures('{% url "five_higher_expenditures_url" %}')
            render_summary_last_twelve_months('{% url "summary_last_twelve_months_url" %}')
            render_summary_current_month('{% url "summary_current_month_url" %}')
            render_current_month_and_year('{% url "years_and_month_to_select_url" %}')
        }

    </script>
{% endblock %}